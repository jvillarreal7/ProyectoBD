--------------------------------------------------------
-- Archivo creado  - lunes-mayo-30-2016   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table BANCO
--------------------------------------------------------

  CREATE TABLE "ADMINLOL"."BANCO" 
   (	"IDBANCO" NUMBER(*,0), 
	"DOMICILIO" VARCHAR2(100 BYTE), 
	"NOMBRE" VARCHAR2(20 BYTE)
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "SYSTEM" ;
 

   COMMENT ON COLUMN "ADMINLOL"."BANCO"."IDBANCO" IS 'Asignamos un id único a cada banco.';
 
   COMMENT ON COLUMN "ADMINLOL"."BANCO"."DOMICILIO" IS 'Contiene el domicilio del banco.';
 
   COMMENT ON COLUMN "ADMINLOL"."BANCO"."NOMBRE" IS 'Contiene el nombre por el que es conocido el banco.';
--------------------------------------------------------
--  DDL for Table CLIENTE
--------------------------------------------------------

  CREATE TABLE "ADMINLOL"."CLIENTE" 
   (	"IDCLIENTE" NUMBER(*,0), 
	"NOMBRECLIENTE" VARCHAR2(50 BYTE), 
	"CONTACTO" VARCHAR2(50 BYTE), 
	"RFC" VARCHAR2(13 BYTE)
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "SYSTEM" ;
 

   COMMENT ON COLUMN "ADMINLOL"."CLIENTE"."IDCLIENTE" IS 'Identificación de clientes.';
 
   COMMENT ON COLUMN "ADMINLOL"."CLIENTE"."NOMBRECLIENTE" IS 'Nombre completo del cliente.';
 
   COMMENT ON COLUMN "ADMINLOL"."CLIENTE"."CONTACTO" IS 'Correo electrónico del cliente.';
 
   COMMENT ON COLUMN "ADMINLOL"."CLIENTE"."RFC" IS 'Clave RFC del cliente.';
--------------------------------------------------------
--  DDL for Table CUENTA
--------------------------------------------------------

  CREATE TABLE "ADMINLOL"."CUENTA" 
   (	"IDBANCO" NUMBER(*,0), 
	"IDCUENTA" NUMBER(*,0), 
	"IDCLIENTE" NUMBER(*,0), 
	"IDTIPOCUENTA" NUMBER(*,0), 
	"NUMEROCUENTA" NUMBER(*,0)
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "SYSTEM" ;
 

   COMMENT ON COLUMN "ADMINLOL"."CUENTA"."IDBANCO" IS 'Identificación única de la sucursal bancaria.';
 
   COMMENT ON COLUMN "ADMINLOL"."CUENTA"."IDCUENTA" IS 'Identificación única de cada cuenta.';
 
   COMMENT ON COLUMN "ADMINLOL"."CUENTA"."IDCLIENTE" IS 'Identificación única de cada cliente.';
 
   COMMENT ON COLUMN "ADMINLOL"."CUENTA"."IDTIPOCUENTA" IS 'Identificación de cada tipo de cuenta.';
 
   COMMENT ON COLUMN "ADMINLOL"."CUENTA"."NUMEROCUENTA" IS 'Número de cuenta para referencia interna.';
--------------------------------------------------------
--  DDL for Table TIPOCUENTA
--------------------------------------------------------

  CREATE TABLE "ADMINLOL"."TIPOCUENTA" 
   (	"IDTIPOCUENTA" NUMBER(*,0), 
	"TIPOCUENTA" VARCHAR2(20 BYTE)
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "SYSTEM" ;
 

   COMMENT ON COLUMN "ADMINLOL"."TIPOCUENTA"."IDTIPOCUENTA" IS 'Toma valores dependiendo del tipo de cuenta.';
 
   COMMENT ON COLUMN "ADMINLOL"."TIPOCUENTA"."TIPOCUENTA" IS 'Representación legible del tipo de cuenta correspondiente.';
--------------------------------------------------------
--  DDL for Table TRANSACCIONES
--------------------------------------------------------

  CREATE TABLE "ADMINLOL"."TRANSACCIONES" 
   (	"IDTRANSACCION" NUMBER(*,0), 
	"IDBANCO" NUMBER(*,0), 
	"IDCUENTA" NUMBER(*,0), 
	"NUMEROCUENTA" NUMBER(*,0), 
	"TIPOTRANSACCION" VARCHAR2(20 BYTE), 
	"RETIRO" NUMBER(*,0), 
	"DEPOSITO" NUMBER(*,0), 
	"MONTO" NUMBER(*,0), 
	"FECHA" DATE, 
	"IDCLIENTE" NUMBER
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "SYSTEM" ;
 

   COMMENT ON COLUMN "ADMINLOL"."TRANSACCIONES"."IDTRANSACCION" IS 'Identificación unica para cada transacción';
 
   COMMENT ON COLUMN "ADMINLOL"."TRANSACCIONES"."IDBANCO" IS 'Identificación única para cada sucursal bancaria.';
 
   COMMENT ON COLUMN "ADMINLOL"."TRANSACCIONES"."IDCUENTA" IS 'Identificación única para cada cuenta.';
 
   COMMENT ON COLUMN "ADMINLOL"."TRANSACCIONES"."NUMEROCUENTA" IS 'Número de cuenta para control y referencia internas.';
 
   COMMENT ON COLUMN "ADMINLOL"."TRANSACCIONES"."TIPOTRANSACCION" IS 'Representación legible del tipo de transacción.';
 
   COMMENT ON COLUMN "ADMINLOL"."TRANSACCIONES"."RETIRO" IS 'Cantidad retirada en la operación.';
 
   COMMENT ON COLUMN "ADMINLOL"."TRANSACCIONES"."DEPOSITO" IS 'Cantidad depositada en la operación.';
 
   COMMENT ON COLUMN "ADMINLOL"."TRANSACCIONES"."MONTO" IS 'Cantidad generada (trigger) haciendo la diferencia entre depósito y retiro al momento de la inserción.';
 
   COMMENT ON COLUMN "ADMINLOL"."TRANSACCIONES"."FECHA" IS 'Generada a partir de la fecha del sistema (trigger) al momento de inserción.';
 
   COMMENT ON COLUMN "ADMINLOL"."TRANSACCIONES"."IDCLIENTE" IS 'Identificación única del cliente.';
--------------------------------------------------------
--  DDL for View CONCENTRADO_CLIENTE
--------------------------------------------------------

  CREATE OR REPLACE FORCE VIEW "ADMINLOL"."CONCENTRADO_CLIENTE" ("IDCLIENTE", "IDCUENTA", "TIPOTRANSACCION", "MONTO") AS 
  SELECT IDCLIENTE, IDCUENTA, TIPOTRANSACCION, MONTO
  FROM TRANSACCIONES
  WHERE IDCLIENTE = 1;
--------------------------------------------------------
--  DDL for View TRANSACCIONES_FECHAS
--------------------------------------------------------

  CREATE OR REPLACE FORCE VIEW "ADMINLOL"."TRANSACCIONES_FECHAS" ("IDTRANSACCION", "IDCUENTA", "MONTO", "FECHA") AS 
  SELECT IDTRANSACCION, IDCUENTA, MONTO, FECHA
  FROM TRANSACCIONES
  WHERE FECHA BETWEEN TO_DATE ('2016/05/29', 'yyyy/mm/dd')
AND TO_DATE ('2016/06/01', 'yyyy/mm/dd');
--------------------------------------------------------
--  DDL for View TRANSACCIONES_FECHAS_TIPO
--------------------------------------------------------

  CREATE OR REPLACE FORCE VIEW "ADMINLOL"."TRANSACCIONES_FECHAS_TIPO" ("IDTRANSACCION", "IDCUENTA", "TIPOTRANSACCION", "MONTO", "FECHA") AS 
  SELECT IDTRANSACCION, IDCUENTA, TIPOTRANSACCION, MONTO, FECHA
  FROM TRANSACCIONES
  WHERE FECHA BETWEEN TO_DATE ('2016/05/29', 'yyyy/mm/dd')
AND TO_DATE ('2016/06/01', 'yyyy/mm/dd');
--------------------------------------------------------
--  DDL for View TRANSACCIONES_TIPO
--------------------------------------------------------

  CREATE OR REPLACE FORCE VIEW "ADMINLOL"."TRANSACCIONES_TIPO" ("IDTRANSACCION", "IDCUENTA", "TIPOTRANSACCION", "MONTO") AS 
  SELECT IDTRANSACCION, IDCUENTA, TIPOTRANSACCION, MONTO
  FROM TRANSACCIONES
  WHERE TIPOTRANSACCION = 'DEPOSITO';
REM INSERTING into ADMINLOL.BANCO
SET DEFINE OFF;
Insert into ADMINLOL.BANCO (IDBANCO,DOMICILIO,NOMBRE) values (100,'Venustiano Carranza 2345 Col. República','Santander');
Insert into ADMINLOL.BANCO (IDBANCO,DOMICILIO,NOMBRE) values (101,'Nazario Ortíz Garza 6424 Col. Doctores','Bancomer');
Insert into ADMINLOL.BANCO (IDBANCO,DOMICILIO,NOMBRE) values (102,'José Musa de León 8274 Col. Los Pinos','Banorte');
REM INSERTING into ADMINLOL.CLIENTE
SET DEFINE OFF;
Insert into ADMINLOL.CLIENTE (IDCLIENTE,NOMBRECLIENTE,CONTACTO,RFC) values (1,'Yayirobe González Torres','yayi@robe.com','GOTY150101FT1');
Insert into ADMINLOL.CLIENTE (IDCLIENTE,NOMBRECLIENTE,CONTACTO,RFC) values (2,'Varg Vikernes Seitan','trvekvlt@burzum.com','VISV860606EDA');
Insert into ADMINLOL.CLIENTE (IDCLIENTE,NOMBRECLIENTE,CONTACTO,RFC) values (3,'Roberto Agustín Trujillo Veracruz','bass@3inchesfromtheground.com','TUVR641023BN7');
Insert into ADMINLOL.CLIENTE (IDCLIENTE,NOMBRECLIENTE,CONTACTO,RFC) values (4,'John Steren Tesla','john@diodos.com','SETJ470810CQ9');
Insert into ADMINLOL.CLIENTE (IDCLIENTE,NOMBRECLIENTE,CONTACTO,RFC) values (5,'Jesús Antonio Nevarez Aceves','fusro@dah.com','NEAJ031106JZ0');
Insert into ADMINLOL.CLIENTE (IDCLIENTE,NOMBRECLIENTE,CONTACTO,RFC) values (6,'John Rambo Stallone','tatatata@rambo.com','RASJ620307HC4');
Insert into ADMINLOL.CLIENTE (IDCLIENTE,NOMBRECLIENTE,CONTACTO,RFC) values (7,'Roberto Gómez Bolaños','chanfle@chespirito.ch','GOBR281204S5A');
Insert into ADMINLOL.CLIENTE (IDCLIENTE,NOMBRECLIENTE,CONTACTO,RFC) values (8,'Calvin Cordozar Broadus Jr.','w33derryday@snoopdogg.com','COBC700624G77');
Insert into ADMINLOL.CLIENTE (IDCLIENTE,NOMBRECLIENTE,CONTACTO,RFC) values (9,'Jon Snow Targaryen','mywatch@hasended.com','SOTJ880418B2A');
Insert into ADMINLOL.CLIENTE (IDCLIENTE,NOMBRECLIENTE,CONTACTO,RFC) values (10,'Donald F. Trump','kidareyou@mexico.com','FUTD430210BW7');
REM INSERTING into ADMINLOL.CUENTA
SET DEFINE OFF;
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (100,1,1,2,151312);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (102,2,1,1,689321);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (101,3,2,3,728453);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (101,4,2,1,728454);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (100,5,2,2,152423);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (102,6,3,3,681234);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (100,7,3,3,161344);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (101,8,4,1,727828);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (101,9,4,2,727829);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (100,10,5,2,151099);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (102,11,5,3,682333);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (100,12,6,1,161882);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (101,13,6,1,729023);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (101,14,7,2,729121);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (102,15,7,3,689110);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (100,16,8,1,153923);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (100,17,8,2,153924);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (101,18,9,3,729036);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (102,19,9,1,682910);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (102,20,10,1,682999);
Insert into ADMINLOL.CUENTA (IDBANCO,IDCUENTA,IDCLIENTE,IDTIPOCUENTA,NUMEROCUENTA) values (100,21,10,2,162013);
REM INSERTING into ADMINLOL.TIPOCUENTA
SET DEFINE OFF;
Insert into ADMINLOL.TIPOCUENTA (IDTIPOCUENTA,TIPOCUENTA) values (1,'Cheques');
Insert into ADMINLOL.TIPOCUENTA (IDTIPOCUENTA,TIPOCUENTA) values (2,'Ahorro');
Insert into ADMINLOL.TIPOCUENTA (IDTIPOCUENTA,TIPOCUENTA) values (3,'Depósito');
REM INSERTING into ADMINLOL.TRANSACCIONES
SET DEFINE OFF;
Insert into ADMINLOL.TRANSACCIONES (IDTRANSACCION,IDBANCO,IDCUENTA,NUMEROCUENTA,TIPOTRANSACCION,RETIRO,DEPOSITO,MONTO,FECHA,IDCLIENTE) values (1,100,1,151312,'DEPOSITO',0,1000,1000,to_date('29/05/16','DD/MM/RR'),1);
Insert into ADMINLOL.TRANSACCIONES (IDTRANSACCION,IDBANCO,IDCUENTA,NUMEROCUENTA,TIPOTRANSACCION,RETIRO,DEPOSITO,MONTO,FECHA,IDCLIENTE) values (2,100,1,151312,'DEPOSITO',0,4000,4000,to_date('29/05/16','DD/MM/RR'),1);
Insert into ADMINLOL.TRANSACCIONES (IDTRANSACCION,IDBANCO,IDCUENTA,NUMEROCUENTA,TIPOTRANSACCION,RETIRO,DEPOSITO,MONTO,FECHA,IDCLIENTE) values (3,102,2,689321,'DEPOSITO',0,5000,5000,to_date('29/05/16','DD/MM/RR'),1);
Insert into ADMINLOL.TRANSACCIONES (IDTRANSACCION,IDBANCO,IDCUENTA,NUMEROCUENTA,TIPOTRANSACCION,RETIRO,DEPOSITO,MONTO,FECHA,IDCLIENTE) values (4,100,1,151312,'RETIRO',500,0,-500,to_date('29/05/16','DD/MM/RR'),1);
Insert into ADMINLOL.TRANSACCIONES (IDTRANSACCION,IDBANCO,IDCUENTA,NUMEROCUENTA,TIPOTRANSACCION,RETIRO,DEPOSITO,MONTO,FECHA,IDCLIENTE) values (5,101,3,728453,'DEPOSITO',0,450,450,to_date('29/05/16','DD/MM/RR'),2);
Insert into ADMINLOL.TRANSACCIONES (IDTRANSACCION,IDBANCO,IDCUENTA,NUMEROCUENTA,TIPOTRANSACCION,RETIRO,DEPOSITO,MONTO,FECHA,IDCLIENTE) values (6,100,1,151312,'RETIRO',200,0,-200,to_date('30/05/16','DD/MM/RR'),1);
--------------------------------------------------------
--  DDL for Index TRANSACCIONES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "ADMINLOL"."TRANSACCIONES_PK" ON "ADMINLOL"."TRANSACCIONES" ("IDTRANSACCION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  Constraints for Table CLIENTE
--------------------------------------------------------

  ALTER TABLE "ADMINLOL"."CLIENTE" MODIFY ("IDCLIENTE" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."CLIENTE" MODIFY ("NOMBRECLIENTE" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."CLIENTE" MODIFY ("CONTACTO" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."CLIENTE" MODIFY ("RFC" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."CLIENTE" ADD PRIMARY KEY ("IDCLIENTE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table BANCO
--------------------------------------------------------

  ALTER TABLE "ADMINLOL"."BANCO" MODIFY ("IDBANCO" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."BANCO" MODIFY ("DOMICILIO" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."BANCO" ADD PRIMARY KEY ("IDBANCO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
 
  ALTER TABLE "ADMINLOL"."BANCO" MODIFY ("NOMBRE" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table CUENTA
--------------------------------------------------------

  ALTER TABLE "ADMINLOL"."CUENTA" MODIFY ("IDBANCO" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."CUENTA" MODIFY ("IDCUENTA" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."CUENTA" MODIFY ("IDCLIENTE" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."CUENTA" MODIFY ("IDTIPOCUENTA" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."CUENTA" MODIFY ("NUMEROCUENTA" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."CUENTA" ADD PRIMARY KEY ("IDCUENTA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TRANSACCIONES
--------------------------------------------------------

  ALTER TABLE "ADMINLOL"."TRANSACCIONES" MODIFY ("IDTRANSACCION" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."TRANSACCIONES" MODIFY ("IDBANCO" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."TRANSACCIONES" MODIFY ("IDCUENTA" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."TRANSACCIONES" MODIFY ("NUMEROCUENTA" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."TRANSACCIONES" MODIFY ("RETIRO" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."TRANSACCIONES" MODIFY ("DEPOSITO" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."TRANSACCIONES" MODIFY ("TIPOTRANSACCION" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."TRANSACCIONES" ADD CONSTRAINT "TRANSACCIONES_PK" PRIMARY KEY ("IDTRANSACCION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TIPOCUENTA
--------------------------------------------------------

  ALTER TABLE "ADMINLOL"."TIPOCUENTA" MODIFY ("IDTIPOCUENTA" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."TIPOCUENTA" MODIFY ("TIPOCUENTA" NOT NULL ENABLE);
 
  ALTER TABLE "ADMINLOL"."TIPOCUENTA" ADD PRIMARY KEY ("IDTIPOCUENTA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CUENTA
--------------------------------------------------------

  ALTER TABLE "ADMINLOL"."CUENTA" ADD CONSTRAINT "CUENTA_BANCO_FK" FOREIGN KEY ("IDBANCO")
	  REFERENCES "ADMINLOL"."BANCO" ("IDBANCO") ENABLE;
 
  ALTER TABLE "ADMINLOL"."CUENTA" ADD CONSTRAINT "CUENTA_CLIENTE_FK" FOREIGN KEY ("IDCLIENTE")
	  REFERENCES "ADMINLOL"."CLIENTE" ("IDCLIENTE") ENABLE;
 
  ALTER TABLE "ADMINLOL"."CUENTA" ADD CONSTRAINT "CUENTA_TIPOCUENTA_FK" FOREIGN KEY ("IDTIPOCUENTA")
	  REFERENCES "ADMINLOL"."TIPOCUENTA" ("IDTIPOCUENTA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TRANSACCIONES
--------------------------------------------------------

  ALTER TABLE "ADMINLOL"."TRANSACCIONES" ADD CONSTRAINT "TRANSACCIONES_BANCO_FK" FOREIGN KEY ("IDBANCO")
	  REFERENCES "ADMINLOL"."BANCO" ("IDBANCO") ENABLE;
 
  ALTER TABLE "ADMINLOL"."TRANSACCIONES" ADD CONSTRAINT "TRANSACCIONES_CLIENTE" FOREIGN KEY ("IDCLIENTE")
	  REFERENCES "ADMINLOL"."CLIENTE" ("IDCLIENTE") ON DELETE SET NULL ENABLE;
 
  ALTER TABLE "ADMINLOL"."TRANSACCIONES" ADD CONSTRAINT "TRANSACCIONES_CUENTA_FK" FOREIGN KEY ("IDCUENTA")
	  REFERENCES "ADMINLOL"."CUENTA" ("IDCUENTA") ENABLE;
--------------------------------------------------------
--  DDL for Trigger AUTO_FECHA
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "ADMINLOL"."AUTO_FECHA" 
BEFORE
insert on TRANSACCIONES
FOR EACH ROW
begin
  :new.FECHA := SYSDATE;
end;
/
ALTER TRIGGER "ADMINLOL"."AUTO_FECHA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger AUTO_MONTO_INSERT
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "ADMINLOL"."AUTO_MONTO_INSERT" 
BEFORE INSERT ON TRANSACCIONES
FOR EACH ROW
begin
  :new.MONTO := :new.DEPOSITO - :new.RETIRO;
END;
/
ALTER TRIGGER "ADMINLOL"."AUTO_MONTO_INSERT" ENABLE;
--------------------------------------------------------
--  DDL for Trigger AUTO_MONTO_UPDATE
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "ADMINLOL"."AUTO_MONTO_UPDATE" 
BEFORE UPDATE ON TRANSACCIONES
FOR EACH ROW
begin
  :new.MONTO := :new.DEPOSITO - :new.RETIRO;
END;
/
ALTER TRIGGER "ADMINLOL"."AUTO_MONTO_UPDATE" ENABLE;
--------------------------------------------------------
--  DDL for Function CLIENTES_C
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "ADMINLOL"."CLIENTES_C" 
RETURN number IS
  t_clientes number := 0;
BEGIN  
  SELECT count(IDCLIENTE) into t_clientes FROM CLIENTE;  
  return t_clientes;
END;

/
--------------------------------------------------------
--  DDL for Function DEPOSITOS_C
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "ADMINLOL"."DEPOSITOS_C" 
RETURN number IS
  p_depositos number := 0;
BEGIN  
  SELECT count(TIPOTRANSACCION) into p_depositos FROM TRANSACCIONES WHERE TIPOTRANSACCION = 'DEPOSITO';  
  return p_depositos;
END;

/
--------------------------------------------------------
--  DDL for Function RETIROS_C
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "ADMINLOL"."RETIROS_C" 
RETURN number IS
  p_retiros number := 0;
BEGIN  
  SELECT count(TIPOTRANSACCION) into p_retiros FROM TRANSACCIONES WHERE TIPOTRANSACCION = 'RETIRO';  
  return p_retiros;
END;

/
--------------------------------------------------------
--  DDL for Function TRANSACCIONES_C
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "ADMINLOL"."TRANSACCIONES_C" 
RETURN number IS
  t_transacciones number := 0;
BEGIN  
  SELECT count(IDTRANSACCION) into t_transacciones FROM TRANSACCIONES;  
  return t_transacciones;
END;

/
--------------------------------------------------------
--  DDL for Procedure GETCLIENTBYCLIENTID
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "ADMINLOL"."GETCLIENTBYCLIENTID" (
	   p_userid IN CLIENTE.IDCLIENTE%TYPE,
	   o_username OUT CLIENTE.NOMBRECLIENTE%TYPE,
	   o_contact OUT  CLIENTE.CONTACTO%TYPE,
	   o_RFC OUT CLIENTE.RFC%TYPE)
IS
BEGIN

  SELECT NOMBRECLIENTE , CONTACTO, RFC
  INTO o_username, o_contact,  o_RFC 
  from  CLIENTE WHERE IDCLIENTE = p_userid;

END;

/
